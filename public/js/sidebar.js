window.addEventListener('load', () => {
    /**SIDEBAR**/
    let icon = document.querySelector('.menu-icon')
    let sideBar = document.querySelector('#sidebar')
    let closeMenu = document.querySelector('.menu-close')
    let vehicule = document.querySelector('.vehicules')
    let menuVehicule = document.querySelector('.sub-menu-vehicules')
    let piece = document.querySelector('.pieces')
    let menuPiece = document.querySelector('.sub-menu-pieces')
    let stock = document.querySelector('.stocks')
    let menuStock = document.querySelector('.sub-menu-stock')
    let editVehicule = document.querySelector('.list-vehicule')
    let menuEditVehicule = document.querySelector('.sub-menu-list-vehicules')
    let editPiece = document.querySelector('.list-piece')
    let menuEditPiece = document.querySelector('.sub-menu-list-piece')
    let titleVehicule = document.querySelector('.title-vehicule')
    let titlePiece = document.querySelector('.title-piece')
    let titleStock = document.querySelector('.title-stock')
    let titleEditVehicule = document.querySelector('.title-edit-vehicule')
    let titleEditPiece = document.querySelector('.title-edit-piece')
    let titleUser = document.querySelector('.title-user')
    let listVehicule = document.querySelector('#list-menu-vehicule')
    let listPiece = document.querySelector('#list-menu-piece')
    let listStock = document.querySelector('#list-menu-stock')
    let listEditVehicule = document.querySelector('#list-menu-edit-vehicule')
    let listEditPiece = document.querySelector('#list-menu-edit-piece')

    //SHOW SIDEBAR//
    icon.addEventListener('click', () => {
        sideBar.classList.toggle('active')
        vehicule.style.display = "block"
        piece.style.display = "block"
        stock.style.display = "block"
        editVehicule.style.display = "block"
        editPiece.style.display = "block"
    })

    //SHOW SUB-MENUS//
    vehicule.addEventListener('click', () => {
        menuVehicule.classList.toggle('block')
        menuStock.classList.remove('block')
        menuPiece.classList.remove('block')
        menuEditVehicule.classList.remove('block')
        menuEditPiece.classList.remove('block')
        menuPiece.classList.toggle('sidebar')
        menuStock.classList.toggle('sidebar')
        menuEditVehicule.classList.toggle('sidebar')
        menuEditPiece.classList.toggle('sidebar')
        listVehicule.classList.toggle('hide-list-menu')
        listVehicule.classList.toggle('list-menu')
        listPiece.classList.replace('hide-list-menu', 'list-menu')
        listStock.classList.replace('hide-list-menu', 'list-menu')
        listEditVehicule.classList.replace('hide-list-menu', 'list-menu')
        listEditPiece.classList.replace('hide-list-menu', 'list-menu')
        titleVehicule.classList.toggle('item')
        titlePiece.classList.remove('item')
        titleStock.classList.remove('item')
        titleEditVehicule.classList.remove('item')
        titleEditPiece.classList.remove('item')
    })

    piece.addEventListener('click', () => {
        menuVehicule.classList.toggle('sidebar')
        menuVehicule.classList.remove('block')
        menuStock.classList.remove('block')
        menuEditVehicule.classList.remove('block')
        menuEditPiece.classList.remove('block')
        menuPiece.classList.toggle('block')
        menuStock.classList.toggle('sidebar')
        menuEditVehicule.classList.toggle('sidebar')
        menuEditPiece.classList.toggle('sidebar')
        listVehicule.classList.replace('hide-list-menu', 'list-menu')
        listStock.classList.replace('hide-list-menu', 'list-menu')
        listEditVehicule.classList.replace('hide-list-menu', 'list-menu')
        listEditPiece.classList.replace('hide-list-menu', 'list-menu')
        listPiece.classList.toggle('hide-list-menu')
        listPiece.classList.toggle('list-menu')
        titlePiece.classList.toggle('item')
        titleVehicule.classList.remove('item')
        titleStock.classList.remove('item')
        titleEditVehicule.classList.remove('item')
        titleEditPiece.classList.remove('item')
    })

    stock.addEventListener('click', () => {
        menuStock.classList.toggle('block')
        menuVehicule.classList.remove('block')
        menuPiece.classList.remove('block')
        menuEditVehicule.classList.remove('block')
        menuEditPiece.classList.remove('block')
        menuVehicule.classList.toggle('sidebar')
        menuPiece.classList.toggle('sidebar')
        menuEditVehicule.classList.toggle('sidebar')
        menuEditPiece.classList.toggle('sidebar')
        listStock.classList.toggle('hide-list-menu')
        listStock.classList.toggle('list-menu')
        listVehicule.classList.replace('hide-list-menu', 'list-menu')
        listPiece.classList.replace('hide-list-menu', 'list-menu')
        listEditVehicule.classList.replace('hide-list-menu', 'list-menu')
        listEditPiece.classList.replace('hide-list-menu', 'list-menu')
        titleStock.classList.toggle('item')
        titleVehicule.classList.remove('item')
        titlePiece.classList.remove('item')
        titleEditVehicule.classList.remove('item')
        titleEditPiece.classList.remove('item')
    })

    editVehicule.addEventListener('click', () => {
        menuEditVehicule.classList.toggle('block')
        menuVehicule.classList.remove('block')
        menuPiece.classList.remove('block')
        menuStock.classList.remove('block')
        menuEditPiece.classList.remove('block')
        menuVehicule.classList.toggle('sidebar')
        menuPiece.classList.toggle('sidebar')
        menuStock.classList.toggle('sidebar')
        menuEditPiece.classList.toggle('sidebar')
        listEditVehicule.classList.toggle('hide-list-menu')
        listEditVehicule.classList.toggle('list-menu')
        listVehicule.classList.replace('hide-list-menu', 'list-menu')
        listPiece.classList.replace('hide-list-menu', 'list-menu')
        listStock.classList.replace('hide-list-menu', 'list-menu')
        listEditPiece.classList.replace('hide-list-menu', 'list-menu')
        titleEditVehicule.classList.toggle('item')
        titlePiece.classList.remove('item')
        titleVehicule.classList.remove('item')
        titleStock.classList.remove('item')
        titleEditPiece.classList.remove('item')
    })

    editPiece.addEventListener('click', () => {
        menuVehicule.classList.toggle('sidebar')
        menuPiece.classList.toggle('sidebar')
        menuStock.classList.toggle('sidebar')
        menuEditVehicule.classList.toggle('sidebar')
        menuEditPiece.classList.toggle('block')
        menuVehicule.classList.remove('block')
        menuPiece.classList.remove('block')
        menuStock.classList.remove('block')
        menuEditVehicule.classList.remove('block')
        listEditPiece.classList.toggle('hide-list-menu')
        listEditPiece.classList.toggle('list-menu')
        listVehicule.classList.replace('hide-list-menu', 'list-menu')
        listPiece.classList.replace('hide-list-menu', 'list-menu')
        listStock.classList.replace('hide-list-menu', 'list-menu')
        listEditVehicule.classList.replace('hide-list-menu', 'list-menu')
        titleEditPiece.classList.toggle('item')
        titlePiece.classList.remove('item')
        titleVehicule.classList.remove('item')
        titleStock.classList.remove('item')
        titleEditVehicule.classList.remove('item')
    })
    
    //CLOSE SIDEBAR AND SUB-MENUS//
    closeMenu.addEventListener('click', () => {
        sideBar.classList.remove('active')
        titleVehicule.classList.remove('item')
        titlePiece.classList.remove('item')
        titleVehicule.classList.remove('item')
        titleStock.classList.remove('item')
        titleEditVehicule.classList.remove('item')
        titleEditPiece.classList.remove('item')
        listVehicule.classList.replace('hide-list-menu', 'list-menu')
        listPiece.classList.replace('hide-list-menu', 'list-menu')
        listStock.classList.replace('hide-list-menu', 'list-menu')
        listEditVehicule.classList.replace('hide-list-menu', 'list-menu')
        listEditPiece.classList.replace('hide-list-menu', 'list-menu')
        menuVehicule.classList.replace('block', 'sidebar')
        menuPiece.classList.replace('block', 'sidebar')
        menuStock.classList.replace('block', 'sidebar')
        menuEditVehicule.classList.replace('block', 'sidebar')
        menuEditPiece.classList.replace('block', 'sidebar')
    })

    //HIDE SIDEBAR IF USER IS NOT LOGGIN
    let home = document.querySelector('.home')
    let title = document.getElementById('title')
    let user = document.querySelector('#user')

    if(window.location.pathname === ('/') || window.location.pathname === ('/forgotPassword') || window.location.pathname === ('/changePassword')) {
        title.style.position = 'absolute'
        icon.classList.add('sidebar')
        home.classList.add('sidebar')
        user.classList.add('sidebar')
    } else {
        title.classList.add('title-margin')
        icon.classList.remove('sidebar')
        home.classList.remove('sidebar')
        user.classList.remove('sidebar')
        user.classList.add('user-nav')
    }
    
    //BACK BUTTON

    let backBtn = document.querySelector('.back')
    backBtn.addEventListener('click', () => {
        window.history.back()
    })
  
})