{
    "GET/": {
        "controler": "getView",
        "view": "login",
        "title": "Authentification"
    },
    "GET/index": {
        "controler": "getView",
        "view": "index",
        "title": "Bienvenue dans le framework Node/Express"
    },
    "GET/logout": {
        "controler": "logout",
        "view": "login",
        "title": "Bienvenue dans le framework Node/Express"
    },
    "GET/users": {
        "controler": "populate",
        "modelName": "Users",
        "view": "users"
    },
    "GET/formUser": {
        "controler": "findByIdWithList",
        "modelName": "Users",
        "modelList": "Countries",
        "view": "formUser",
        "form_action": "/modifyUser"
    },
    "POST/modifyUser": {
        "controler": "updateById",
        "modelName": "Users",
        "view": "modifyUser"
    },
    "GET/newUser": {
        "controler": "finder",
        "modelName": "Users",
        "modelList": "Countries",
        "view": "formUser",
        "form_action": "/createUser",
        "title": "Create a new user",
        "libelle": "creation"
    },
    "POST/createUser": {
        "controler": "insertOne",
        "modelName": "Users",
        "view": "users"
    },
    "GET/deleteUser": {
        "controler": "deleteById",
        "modelName": "Users",
        "view": "users"
    },
    "GET/accueil": {
        "controler": "getViewWithAuth",
        "view": "main",
        "title": "Accueil"
    },
    "GET/formInsertVehicule": {
        "controler": "selectListSchemas",
        "view": "addVehicule",
        "tables_list": [
            "marques",
            "type_vehicule"
        ],
        "sql_list": [
            "select * FROM marques",
            "select * from type_vehicule"
        ],
        "form_action": "/addVehicule",
        "title": "Ajoutez un véhicule"
    },
    "POST/addVehicule": {
        "controler": "addSQL",
        "view": "addVehicule",
        "request": "insert into Vehicules (nom_vehicule, date_mise_circulation, id_type_vehicule, id_marque) VALUES (?, ?, ?, ?)",
        "title": "Ajoutez un véhicule",
        "redirect": "/formInsertVehicule"
    },
    "GET/formInsertTypeVehicule": {
        "controler": "selectListSchemas",
        "view": "addTypeVehicule",
        "tables_list": ["type_vehicule"],
        "sql_list": ["select * from type_vehicule"],
        "form_action": "/addTypeVehicule",
        "title": "Ajoutez un type de véhicule"
    },
    "POST/addTypeVehicule": {
        "controler": "addSQL",
        "view": "addTypeVehicule",
        "request": "insert into type_vehicule (nom_type_vehicule, doc_pdf) VALUES (?, ?)",
        "title": "Ajoutez un type de véhicule",
        "redirect": "/formInsertTypeVehicule"
    },
    "GET/formInsertMarque": {
        "controler": "selectListSchemas",
        "view": "addMarque",
        "tables_list": ["marques"],
        "sql_list": ["select * from marques"],
        "form_action": "/addMarque",
        "title": "Ajoutez une marque de véhicule"
    },
    "POST/addMarque": {
        "controler": "addSQL",
        "view": "addMarque",
        "request": "insert into marques (nom_marque, modele) VALUES (?, ?)",
        "title": "Ajoutez une marque de véhicule",
        "redirect": "/formInsertTypeVehicule"
    },
    "GET/formInsertPiece": {
        "controler": "selectListSchemas",
        "view": "addPiece",
        "tables_list": ["type_p_d"],
        "sql_list": ["select * from type_p_d"],
        "form_action": "/addPiece",
        "title": "Ajoutez une pièce détachée"
    },
    "POST/addPiece": {
        "controler": "addSQL",
        "view": "addPiece",
        "request": "insert into pieces_detachees (nom_p_d, photo, longueur, largeur, diametre, doc_pdf, localisation, etat, id_type_p_d) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",
        "title": "Ajoutez une pièce détachée",
        "redirect": "/formInsertPiece"
    },
    "GET/formInsertTypePiece": {
        "controler": "selectListSchemas",
        "view": "addTypePiece",
        "tables_list": [
            "type_p_d",
            "type_vehicule"
        ],
        "sql_list": [
            "select * from type_p_d",
            "select * from type_vehicule"
        ],
        "form_action": "/addTypePiece",
        "title": "Ajoutez un type de pièce détachée"
    },
    "POST/addTypePiece": {
        "controler": "addSQL",
        "view": "addTypePiece",
        "request": "insert into type_p_d (nom_type_p_d) VALUES (?)",
        "title": "Ajoutez un type de pièce détachée",
        "redirect": "/formInsertTypeVehicule"
    },
    "GET/formInsertSousTypePiece": {
        "controler": "selectListSchemas",
        "view": "addSousTypePiece",
        "tables_list": [
            "sous_type_p_d",
            "type_p_d"
        ],
        "sql_list": [
            "select * from sous_type_p_d",
            "select * from type_p_d"
        ],
        "form_action": "/addSousTypePiece",
        "title": "Ajoutez un sous-type de pièce détachée"
    },
    "POST/addSousTypePiece": {
        "controler": "addSQL",
        "view": "addSousTypePiece",
        "request": "insert into sous_type_p_d (nom_stype, id_type_p_d) VALUES (?, ?)",
        "title": "Ajoutez un sous-type de pièce détachée",
        "redirect": "/formInsertTypeVehicule"
    },
    "GET/stockVehicule": {
        "controler": "selectListSchemas",
        "view": "stockVehicule",
        "tables_list": ["Vehicules"],
        "sql_list": [ "SELECT id_vehicule, nom_vehicule, date_mise_circulation, Vehicules.id_marque, Vehicules.id_type_vehicule, marques.nom_marque, type_vehicule.nom_type_vehicule  FROM Vehicules, marques, type_vehicule WHERE Vehicules.id_marque = marques.id_marque AND Vehicules.id_type_vehicule = type_vehicule.id_type_vehicule"],
        "form_action": "/editVehicule",
        "title": "Gestion de stock de véhicule"
    },
    "GET/formEditVehicule": {
        "controler": "selectSQLById",
        "view": "editVehicule",
        "sql_query": "SELECT id_vehicule, nom_vehicule, date_mise_circulation, Vehicules.id_marque, Vehicules.id_type_vehicule, marques.nom_marque, type_vehicule.nom_type_vehicule  FROM Vehicules, marques, type_vehicule WHERE Vehicules.id_marque = marques.id_marque AND Vehicules.id_type_vehicule = type_vehicule.id_type_vehicule",
        "form_action": "/editVehicule",
        "title": "Modifiez un véhicule"
    },
    "POST/editVehicule": {
        "controler": "updateSQL",
        "view": "editVehicule",
        "sql_query": "UPDATE Vehicules SET nom_vehicule=?, date_mise_circulation=?, id_marque=?, id_type_vehicule=? WHERE id_vehicule=?",
        "params_query": [
            "nom_vehicule",
            "date_mise_circulation",
            "id_marque",
            "id_type_vehicule"
        ],
        "title": "Modifiez un véhicule"
    },
    "GET/formDeleteVehicule": {
        "controler": "selectSQLById",
        "view": "deletePiece",
        "title": "Supprimez une pièce"
    },
    "POST/formDeleteVehicule": {
        "controler": "deleteSQL",
        "view": "deleteVehicule",
        "title": "Supprimez une pièce",
        "request": "delete from Vehicule where id_vehicule = ?"
    },
    "GET/stockPiece": {
        "controler": "selectListSchemas",
        "view": "stockPiece",
        "tables_list": ["pieces_detachees"],
        "sql_list": [ "SELECT id_p_d, nom_p_d, type_p_d.id_type_p_d, type_p_d.nom_type_p_d, photo, longueur, largeur, diametre, localisation, etat  FROM pieces_detachees, type_p_d WHERE pieces_detachees.id_type_p_d = type_p_d.id_type_p_d"],
        "form_action": "/editPiece",
        "title": "Gestion de stock de pièce détachée"
    },
    "GET/loginPublic": {
        "controler": "getViewWithAuth",
        "view": "loginPublic",
        "title": "Se connecter"
    }
}